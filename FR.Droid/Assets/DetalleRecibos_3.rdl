DEFINE FORMATO_CORTO "XXXXXXXXXXXXXXX|RIGHT"
DEFINE FORMATO_LARGO "XXXXXXXXXXXXXXXXXXXXXXXX|LEFT"
DEFINE FORMATO_NUMERO "#######0.00|RIGHT"
DEFINE FORMATO_FECHA "dd/MM/yyyy"

DEFINE FORMATO_NOTAS_HEADER "XXXXXXXXXXXXXX|LEFT" "XXXXXXXXXXX|RIGHT"
DEFINE FORMATO_DOCUMENTOS_HEADER "XXXXXXXXXXXXXX|LEFT" "XXXXXXXXXXX|RIGHT" "XXXXXXXXXXX|RIGHT"
DEFINE FORMATO_CHEQUES_HEADER "XXXXXXXXXXXX|LEFT" "XXXXXXXX|LEFT" "XXXXX|RIGHT" "XXXXXXXXXXX|RIGHT"
DEFINE FORMATO_NOTAS "XXXXXXXXXXXXXX|LEFT" "#######0.00|RIGHT"
DEFINE FORMATO_DOCUMENTOS "XXXXXXXXXXXXXX|LEFT" "#######0.00|RIGHT" "#######0.00|RIGHT"
DEFINE FORMATO_CHEQUES "XXXXXXXXXXXX|LEFT" "XXXXXXXX|LEFT" "XXXXX|RIGHT" "#######0.00|RIGHT"


PRINT "\n\n\r"
FONT "IS204" 10

FOREACH RECIBO IN RECIBOS.LISTA_RECIBOS	
	PRINT "Recibo por Dinero\n\n\r"
	PRINT "Recibo:   " RECIBO.NUMERO "\n\r"
	PRINT "Fecha:    "
	PRINTF FORMATO_FECHA RECIBO.FECHA "\n\r"
	PRINT "Moneda:   " RECIBO.MONEDA "\n\r"
	PRINT "Cliente:  " 
	PRINTF FORMATO_CORTO RECIBO.CLIENTE_NOMBRE "\n\r"
	PRINT "Dirección:" RECIBO.CLIENTE_DIRECCCION "\n\r"
	PRINT "Compañía: " RECIBO.COMPANIA "\n\n\r"
	
	PRINT "NOTAS DE CREDITO APLICADAS\n\r"
	PRINTF FORMATO_NOTAS_HEADER "Nota" "Monto" "\n\r"

	FOREACH FACTURA IN RECIBO.FACTURAS_ASOCIADAS
		IF FACTURA.TIENE_NOTAS_APLICADAS
			FOREACH NOTA_CREDITO IN FACTURA.NOTAS_CREDITO_APLICADAS		
				PRINTF FORMATO_NOTAS NOTA_CREDITO.NUMERO NOTA_CREDITO.MONTO "\n\r"
			NEXT
		ENDIF
	NEXT

	PRINT "\n\rDOCUMENTOS APLICADOS\n\r"
	PRINTF FORMATO_DOCUMENTOS_HEADER "Número" "Abonado" "Saldo" "\n\r"

	FOREACH FACTURA IN RECIBO.FACTURAS_ASOCIADAS
		PRINTF FORMATO_DOCUMENTOS FACTURA.NUMERO_DOCUMENTO FACTURA.MONTO_MOVIMIENTO FACTURA.MONTO_SALDO "\n\r"
	NEXT

	PRINT "Total Documentos: " 
	PRINTF FORMATO_NUMERO RECIBO.TOTAL_COBRADO "\n\n\r"

	PRINT "CHEQUES APLICADOS\n\r"
	PRINTF FORMATO_CHEQUES_HEADER "Cheque" "Cuenta" "Banco" "Monto\n\r"

	FOREACH CHEQUE IN RECIBO.CHEQUES
		PRINTF FORMATO_CHEQUES CHEQUE.NUMERO CHEQUE.CUENTA CHEQUE.CODIGO_BANCO CHEQUE.MONTO "\n\r"
	NEXT

	PRINT "\n\n\r"

	PRINT "RESUMEN DE MONTOS TOTALES\n\r"
	PRINTF FORMATO_LARGO "Cheques: "
	PRINTF FORMATO_NUMERO RECIBO.TOTAL_CHEQUES "\n\r"
	PRINTF FORMATO_LARGO "Efectivo: "
	PRINTF FORMATO_NUMERO RECIBO.TOTAL_EFECTIVO "\n\r"
	PRINTF FORMATO_LARGO "Notas de Crédito: " 
	PRINTF FORMATO_NUMERO RECIBO.TOTAL_NOTAS_APLICADAS "\n\r"
	PRINTF FORMATO_LARGO "Recibo: "
	PRINTF FORMATO_NUMERO RECIBO.MONTO "\n\n\r"
	
	PRINTF FORMATO_LARGO RECIBO.LEYENDA "\n\n\r"
NEXT